{
  "context": {
    "function_name": "mlb_statsapi-run_workflow",
    "log_group_name": "/aws/lambda/mlb_statsapi-run_workflow"
  },
  "mlb_statsapi_etl_gameday": {
    "version": "0",
    "id": "af995e31-51e2-28e4-ed57-a585d24bf8fc",
    "detail-type": "Scheduled Event",
    "source": "aws.events",
    "account": "623650261134",
    "time": "2019-07-11T08:00:00Z",
    "region": "us-west-2",
    "resources": [
        "arn:aws:events:us-west-2:623650261134:rule/mlb_statsapi_gameday_event_rule-us-west-2"
    ],
    "detail": {},
    "workflow": {
        "name": "mlb_statsapi_etl_gameday",
        "arn": "arn:aws:states:us-west-2:623650261134:stateMachine:mlb_statsapi_etl_gameday"
    }
  },
  "mlb_statsapi_etl_schedule": {
    "Records": [
      {
        "messageId": "71374710-ee2e-4612-b70e-2cd80097ec8b",
        "receiptHandle": "AQEB1SY7PrRLVyXwoE0JWWPC/s+iHluZ4St4cUyZGtihycz2BTXUkgV2WiCRRMYD51EmiEK0xbeu9O+kDHfTzynqv3+zamm6BxkaacLOKF8HpRKYo8mhEKT/B6app43cuHPrnBcSh3p/tPW8epAuuiESRKooUs5+KmgtPtxdMsUvNBIDGI33R5aZEZSS6Tv9bQk83/dy7sBUip+UxNfug3ivnzcWH+WeodzXQQL8xjw8j+cuYfMzb3nDvNgbdUw47HdSO11dhc8z7I4RqTLjRLmr/dX+gUlAUp1BOwFEOr06mcZlB/ObVUt3oA+poHqNWYn3XiLSvJmEzcuBL2TXNAb3+iePcB+lFIsPHQbsfZ10A5AGzfgGcm4I0BP9oG7ehtxZuTd0DojPtDSroyciS1JCIMiFSNfF/e6n4N4BY0OgxJk=",
        "body": "{\n  \"Type\" : \"Notification\",\n  \"MessageId\" : \"e83ab2a7-d4df-5e13-bafc-eb08e8984d1e\",\n  \"TopicArn\" : \"arn:aws:sns:us-west-2:623650261134:mlb-statsapi-workflow-us-west-2\",\n  \"Message\" : \"{\\\"api\\\":\\\"Schedule\\\",\\\"method\\\":\\\"schedule\\\",\\\"path_params\\\":{},\\\"query_params\\\":{\\\"date\\\":\\\"2020-09-05\\\",\\\"sportId\\\":1},\\\"workflow\\\":{\\\"name\\\":\\\"mlb_statsapi_etl_schedule\\\",\\\"arn\\\":\\\"arn:aws:states:us-west-2:623650261134:stateMachine:mlb_statsapi_etl_schedule\\\"}}\",\n  \"Timestamp\" : \"2020-09-05T21:43:35.653Z\",\n  \"SignatureVersion\" : \"1\",\n  \"Signature\" : \"Nga+dB08UvPZslyXEydIG5UHNHsAwYzZORrj0BcBOvVp8H+xuX8vWA+rEE02bUwCbu6A7coZiYsOV7PMm629nKfL0SUB5w1n/f1n23TCm4pwr/9CnqNsrpT8vFL+UqtCHH/S1clrpD9FwmRfk1QpuEwmPuP5Ckm68PfWYs2AkR97YW5ILaTUGJJ2ULXDVSMcfsCNSy8yI0AqgYfohMtyUdLizkBMSkcLvcrBVPmMEEdvlrPmgET2MhQjlx7O4/O5YJwQ7+tnYtWmeO+BcY3KTjWoxCbANR+okq4XiIq3ExkL4VDM/WctYW/qjQgbAzyN27nw/xLNHoXbO7plKn3Neg==\",\n  \"SigningCertURL\" : \"https://sns.us-west-2.amazonaws.com/SimpleNotificationService-010a507c1833636cd94bdb98bd93083a.pem\",\n  \"UnsubscribeURL\" : \"https://sns.us-west-2.amazonaws.com/?Action=Unsubscribe&SubscriptionArn=arn:aws:sns:us-west-2:623650261134:mlb-statsapi-workflow-us-west-2:7fdbe2b3-10fe-49c8-81b2-87e3e48b62dc\",\n  \"MessageAttributes\" : {\n    \"Sport\" : {\"Type\":\"String\",\"Value\":\"MLB\"}\n  }\n}",
        "attributes": {
          "ApproximateReceiveCount": "1",
          "SentTimestamp": "1630878215693",
          "SenderId": "AIDAIYLAVTDLUXBIEIX46",
          "ApproximateFirstReceiveTimestamp": "1630878215713"
        },
        "messageAttributes": {},
        "md5OfBody": "2e9a4638ec04ac1342161220e19b0662",
        "eventSource": "aws:sqs",
        "eventSourceARN": "arn:aws:sqs:us-west-2:623650261134:mlb-statsapi-workflow-us-west-2",
        "awsRegion": "us-west-2"
      }
    ]
  },
  "mlb_statsapi_etl_pregame": {
    "Records": [
        {
            "messageId": "45d6e97c-063d-4862-89bb-a7a01599b16d",
            "receiptHandle": "AQEBnLg5pX/XSE4y2uW1tkAY2GQyplMOFTGXX1dvOV4QByFhA+xvFMfSKv7p7C/B8rEqU4sg/4cO1JT71uEGLR0R0xHWzo7SlUQ8aQnxRFyNvuamXdeuHgb9I34HQMjPTlqfc4vDUKeKPIwcamNpLbRh2vQrpDxRFo2v4CXziR4t0acpateNc7qMxaLpiR4ZUGHZHujsuYPyAWzjfQO0N5fyVp5F4MXU7jgEXV5MQQsZy7P/JeUTJtL1yP3Q5sTTgGzPm4HJI588HA5a32dPulxhNJx0Lyyt/J81+C2Df4hBFBwKyLQ8YCT1icuEe+6uuYN3b9Ok8h+Zn0QP+Wzrgu/SloJgHmd6dCXN/STwz7DHYNqDPT9uIBLKryCjRemLdtTkoTm3ZzFw1HS8F6OgI3pXyCl4HvFzVkaj9anRH0O8UJo=",
            "body": "{\n  \"Type\" : \"Notification\",\n  \"MessageId\" : \"83943f5a-5c59-5454-9d03-66f5f063f725\",\n  \"TopicArn\" : \"arn:aws:sns:us-west-2:623650261134:mlb-statsapi-workflow-us-west-2\",\n  \"Message\" : \"{\\\"gamePk\\\":566810,\\\"link\\\":\\\"/api/v1.1/game/566810/feed/live\\\",\\\"gameType\\\":\\\"R\\\",\\\"season\\\":\\\"2019\\\",\\\"gameDate\\\":\\\"2019-07-12T00:05:00Z\\\",\\\"officialDate\\\":\\\"2019-07-11\\\",\\\"status\\\":{\\\"abstractGameState\\\":\\\"Final\\\",\\\"codedGameState\\\":\\\"F\\\",\\\"detailedState\\\":\\\"Final\\\",\\\"statusCode\\\":\\\"F\\\",\\\"startTimeTBD\\\":false,\\\"abstractGameCode\\\":\\\"F\\\"},\\\"teams\\\":{\\\"away\\\":{\\\"leagueRecord\\\":{\\\"wins\\\":57,\\\"losses\\\":34,\\\"pct\\\":\\\".626\\\"},\\\"score\\\":0,\\\"team\\\":{\\\"id\\\":117,\\\"name\\\":\\\"Houston Astros\\\",\\\"link\\\":\\\"/api/v1/teams/117\\\"},\\\"isWinner\\\":false,\\\"splitSquad\\\":false,\\\"seriesNumber\\\":30},\\\"home\\\":{\\\"leagueRecord\\\":{\\\"wins\\\":49,\\\"losses\\\":42,\\\"pct\\\":\\\".538\\\"},\\\"score\\\":5,\\\"team\\\":{\\\"id\\\":140,\\\"name\\\":\\\"Texas Rangers\\\",\\\"link\\\":\\\"/api/v1/teams/140\\\"},\\\"isWinner\\\":true,\\\"splitSquad\\\":false,\\\"seriesNumber\\\":30}},\\\"venue\\\":{\\\"id\\\":13,\\\"name\\\":\\\"Globe Life Park in Arlington\\\",\\\"link\\\":\\\"/api/v1/venues/13\\\"},\\\"content\\\":{\\\"link\\\":\\\"/api/v1/game/566810/content\\\"},\\\"isTie\\\":false,\\\"gameNumber\\\":1,\\\"publicFacing\\\":true,\\\"doubleHeader\\\":\\\"N\\\",\\\"gamedayType\\\":\\\"P\\\",\\\"tiebreaker\\\":\\\"N\\\",\\\"calendarEventID\\\":\\\"14-566810-2019-07-11\\\",\\\"seasonDisplay\\\":\\\"2019\\\",\\\"dayNight\\\":\\\"night\\\",\\\"scheduledInnings\\\":9,\\\"reverseHomeAwayStatus\\\":false,\\\"inningBreakLength\\\":145,\\\"gamesInSeries\\\":4,\\\"seriesGameNumber\\\":1,\\\"seriesDescription\\\":\\\"Regular Season\\\",\\\"recordSource\\\":\\\"S\\\",\\\"ifNecessary\\\":\\\"N\\\",\\\"ifNecessaryDescription\\\":\\\"Normal Game\\\",\\\"startPregame\\\":\\\"2019-07-11T23:05:00+00:00\\\",\\\"startTimestamp\\\":\\\"20190712_000500\\\",\\\"uid\\\":\\\"56241efd\\\",\\\"workflow\\\":{\\\"name\\\":\\\"mlb_statsapi_etl_pregame\\\",\\\"arn\\\":\\\"arn:aws:states:us-west-2:623650261134:stateMachine:mlb_statsapi_etl_pregame\\\"}}\",\n  \"Timestamp\" : \"2021-09-06T05:41:14.064Z\",\n  \"SignatureVersion\" : \"1\",\n  \"Signature\" : \"ZziLNMFHuxi2af5qQH7uljNX3x4HkYIufqFfFVyiZ/I7zn3HKAQyxsyXGjiQDYMEimxDWR7Dxt8eBlBulrKKrVi1J0dPPmbIATnbnEtR+YtQJRqBxkls/HPYTOqDI6ngC3kGhDAUOgC4X8+68oiZ8nuA59QPRX+PhkiSXOCIy7nEyo6etM2grfT/jSnzfcjKLUj7o2qbUskr4xe85Xi2uU4RTbIG8qaXOTiCaCXF6IKRUo2IWUVwWx/TLz6OKUCxGiaj5QRFDC7WLApNojp80x4UgYRwPJdf7LaArZvdZhzK6WiaBfYKHmLhZWtgHUV8ujJPVP7I1bejBuwkNCRwmQ==\",\n  \"SigningCertURL\" : \"https://sns.us-west-2.amazonaws.com/SimpleNotificationService-010a507c1833636cd94bdb98bd93083a.pem\",\n  \"UnsubscribeURL\" : \"https://sns.us-west-2.amazonaws.com/?Action=Unsubscribe&SubscriptionArn=arn:aws:sns:us-west-2:623650261134:mlb-statsapi-workflow-us-west-2:63e06f3c-b8c5-4028-9874-4baf81335019\",\n  \"MessageAttributes\" : {\n    \"Sport\" : {\"Type\":\"String\",\"Value\":\"MLB\"}\n  }\n}",
            "attributes": {
                "ApproximateReceiveCount": "1",
                "SentTimestamp": "1630906874096",
                "SenderId": "AIDAIYLAVTDLUXBIEIX46",
                "ApproximateFirstReceiveTimestamp": "1630906874100"
            },
            "messageAttributes": {},
            "md5OfBody": "ea38d5592bb439d8563b9e5bab94f739",
            "eventSource": "aws:sqs",
            "eventSourceARN": "arn:aws:sqs:us-west-2:623650261134:mlb-statsapi-workflow-us-west-2",
            "awsRegion": "us-west-2"
        }
    ]
  },
  "mlb_statsapi_etl_game": {
    "Messages": [
      {
        "MessageId": "2b90e188-88f4-443c-9aca-15cfe0ea4aa5",
        "ReceiptHandle": "AQEBD7XjmUuoiZfRo4OJo1T8fKtC6H7jrp0ZCgJFlvTbYOpGSIv+URBuwI1NAvpmHeRQzNWQadGZfoDR6B13S7Au1geY1MRYChSk+8zEdFeDNEHvQLq4E9GSps4b4YYO6mbFBY2i6Bu68LnnAiPpYFLHbHkCpm6fdE/htfAlLBqqchaEb9vq4tj65T1U8WRLguN46q01ghNT+AthSw2ClU339AiVAeatJ2TtyHLAgwCgrcS1iyeSr0xzne5UgbVqAIi2oFRWAoOfYlS9ta5niPrcjIdJ62+cOQU5nu5osYah8OjGfUEqmctQJ8hIwGlgzpJGe3rUQWraTcHmvA9awFaCtKolVuX32Os4/nqWNcsEZz4Edrhfykp0caIoZQwAaue2A6mz+RMHNjZrl8mxNRJP51D+AARg5eWxVH7NAIiFkHmyGDfPGtlI4YzcfpYUndzH",
        "MD5OfBody": "38a298a76b70d3f5fffb79e48b9a6976",
        "Body": "{\n  \"Type\" : \"Notification\",\n  \"MessageId\" : \"5f73225f-e5d2-5690-a973-7bf1dffe6b79\",\n  \"TopicArn\" : \"arn:aws:sns:us-west-2:623650261134:mlb-statsapi-workflow-us-west-2\",\n  \"Message\" : \"{\\\"gamePk\\\":632654,\\\"link\\\":\\\"/api/v1.1/game/632654/feed/live\\\",\\\"gameType\\\":\\\"R\\\",\\\"season\\\":\\\"2020\\\",\\\"gameDate\\\":\\\"2020-09-03T23:10:00Z\\\",\\\"officialDate\\\":\\\"2020-09-03\\\",\\\"status\\\":{\\\"abstractGameState\\\":\\\"Preview\\\",\\\"codedGameState\\\":\\\"S\\\",\\\"detailedState\\\":\\\"Scheduled\\\",\\\"statusCode\\\":\\\"S\\\",\\\"startTimeTBD\\\":false,\\\"abstractGameCode\\\":\\\"P\\\"},\\\"teams\\\":{\\\"away\\\":{\\\"leagueRecord\\\":{\\\"wins\\\":63,\\\"losses\\\":72,\\\"pct\\\":\\\".467\\\"},\\\"team\\\":{\\\"id\\\":116,\\\"name\\\":\\\"Detroit Tigers\\\",\\\"link\\\":\\\"/api/v1/teams/116\\\"},\\\"splitSquad\\\":false,\\\"seriesNumber\\\":44},\\\"home\\\":{\\\"leagueRecord\\\":{\\\"wins\\\":72,\\\"losses\\\":63,\\\"pct\\\":\\\".533\\\"},\\\"team\\\":{\\\"id\\\":113,\\\"name\\\":\\\"Cincinnati Reds\\\",\\\"link\\\":\\\"/api/v1/teams/113\\\"},\\\"splitSquad\\\":false,\\\"seriesNumber\\\":45}},\\\"venue\\\":{\\\"id\\\":2602,\\\"name\\\":\\\"Great American Ball Park\\\",\\\"link\\\":\\\"/api/v1/venues/2602\\\"},\\\"content\\\":{\\\"link\\\":\\\"/api/v1/game/632654/content\\\"},\\\"gameNumber\\\":1,\\\"publicFacing\\\":true,\\\"doubleHeader\\\":\\\"N\\\",\\\"gamedayType\\\":\\\"P\\\",\\\"tiebreaker\\\":\\\"N\\\",\\\"calendarEventID\\\":\\\"14-632654-2020-09-03\\\",\\\"seasonDisplay\\\":\\\"2020\\\",\\\"dayNight\\\":\\\"night\\\",\\\"scheduledInnings\\\":9,\\\"reverseHomeAwayStatus\\\":false,\\\"inningBreakLength\\\":120,\\\"gamesInSeries\\\":3,\\\"seriesGameNumber\\\":1,\\\"seriesDescription\\\":\\\"Regular Season\\\",\\\"recordSource\\\":\\\"S\\\",\\\"ifNecessary\\\":\\\"N\\\",\\\"ifNecessaryDescription\\\":\\\"Normal Game\\\",\\\"startPregame\\\":\\\"2020-09-03T22:10:00+00:00\\\",\\\"startTimestamp\\\":\\\"20200903_231000\\\",\\\"uid\\\":\\\"1df983ad\\\",\\\"workflow\\\":{\\\"name\\\":\\\"mlb_statsapi_etl_game\\\",\\\"arn\\\":\\\"arn:aws:states:us-west-2:623650261134:stateMachine:mlb_statsapi_etl_game\\\"}}\",\n  \"Timestamp\" : \"2020-09-05T03:22:20.349Z\",\n  \"SignatureVersion\" : \"1\",\n  \"Signature\" : \"uiCAtzamYckISFpJ2hzEyT7VlF4ISiASJjyQEsvwuosPaewFQhui38dyc13gqHBS+PqmqbvUUY/Mr4TeUZydIdVoQ/MPgEiRbjkVTXZo7urTbjETigtNDN/gqtUfdn/JrOYjZvj95qt5E1LQZYBfR3y+4v8L0qW5uRiwrzHgNTsxhWG9/p9mFSt3nuPZfPdUTVM9piWGzpiFAEtDRgqY1zvlyEn8qNipwuNEj4hS061SdOehk5jLWTd1vr47uzPO3gBUcxhOh5v2/0EMtQHVVeLQSTDvYampdTipVCQi8poYivQ4eNk2iGR7NK+82rvfPKH/JmnBrT6pXCBTvbZi+A==\",\n  \"SigningCertURL\" : \"https://sns.us-west-2.amazonaws.com/SimpleNotificationService-010a507c1833636cd94bdb98bd93083a.pem\",\n  \"UnsubscribeURL\" : \"https://sns.us-west-2.amazonaws.com/?Action=Unsubscribe&SubscriptionArn=arn:aws:sns:us-west-2:623650261134:mlb-statsapi-workflow-us-west-2:7fdbe2b3-10fe-49c8-81b2-87e3e48b62dc\",\n  \"MessageAttributes\" : {\n    \"Sport\" : {\"Type\":\"String\",\"Value\":\"MLB\"},\n    \"Workflow\" : {\"Type\":\"String\",\"Value\":\"arn:aws:states:us-west-2:623650261134:stateMachine:mlb_statsapi_etl_game\"}\n  }\n}"
      }
    ]
  }
}
